# Утка - Flappy Bird Clone

Веб-игра в стиле Flappy Bird, разработанная на React и TypeScript. Цель игры - управлять уткой, избегая препятствий и набирая очки.

## Описание

"Утка" - это клон популярной игры Flappy Bird, реализованный с использованием современных веб-технологий. Игра включает в себя:

- Плавную физику движения утки с гравитацией
- Генерацию случайных препятствий
- Систему подсчета очков с сохранением лучшего результата
- Звуковые эффекты
- Адаптивный дизайн для мобильных устройств
- Систему частиц при столкновениях
- Прогрессивное увеличение сложности

## Технологии

- **React 18+** - UI библиотека для создания компонентов
- **TypeScript 5+** - Типизированный JavaScript для надежности кода
- **Vite** - Современный сборщик для быстрой разработки
- **Canvas API** - Рендеринг игровой графики и анимаций
- **CSS Modules** - Стилизация компонентов
- **Vitest** - Фреймворк для тестирования

## Установка

1. Клонировать репозиторий:
```bash
git clone <repository-url>
cd duck-game
```

2. Установить зависимости:
```bash
npm install
```

## Запуск

### Режим разработки

Запустить dev-сервер с hot-reload:
```bash
npm run dev
```

Приложение будет доступно по адресу `http://localhost:5173`

### Production сборка

Собрать проект для production:
```bash
npm run build
```

Собранные файлы будут находиться в директории `dist/`

### Предпросмотр production сборки

Предпросмотр production сборки:
```bash
npm run preview
```

## Управление

- **Пробел** или **Стрелка вверх** - прыжок утки
- **Клик мыши** или **Тап** - прыжок утки
- **Escape** - пауза (во время игры)

## Тестирование

Запустить тесты:
```bash
npm test
```

Запустить тесты с UI:
```bash
npm run test:ui
```

Запустить тесты один раз:
```bash
npm run test:run
```

## Дополнительные команды

### Линтинг

Проверить код на ошибки:
```bash
npm run lint
```

### Форматирование

Отформатировать код:
```bash
npm run format
```

## Архитектура проекта

```
src/
├── components/          # React компоненты
│   ├── Game/          # Основной игровой компонент
│   └── UI/            # UI компоненты (меню, кнопки)
├── game/              # Игровая логика
│   ├── entities/      # Игровые сущности (Утка, Препятствия)
│   ├── systems/      # Игровые системы (физика, коллизии, очки)
│   └── utils/         # Утилиты (константы, звуки, производительность)
├── contexts/          # React контексты для состояния
├── hooks/             # Кастомные React хуки
├── types/             # TypeScript типы и интерфейсы
└── assets/            # Ресурсы (звуки)
```

### Основные компоненты

- **GameCanvas** - Основной canvas компонент, управляющий игровым циклом
- **GameContext** - Контекст для управления состоянием игры (счет, состояние, лучший результат)
- **Duck** - Класс, представляющий игрового персонажа
- **Obstacle** - Класс препятствий
- **ObstacleManager** - Система управления препятствиями
- **CollisionSystem** - Система детекции коллизий
- **ScoreSystem** - Система подсчета очков
- **SoundManager** - Менеджер звуковых эффектов

## Особенности

- **Оптимизация производительности**: Отрисовываются только видимые объекты, используется кэширование границ для коллизий
- **Адаптивность**: Игра автоматически масштабируется под размер экрана, поддерживает мобильные устройства
- **Прогрессивная сложность**: Скорость препятствий и расстояние между ними изменяются в зависимости от набранных очков
- **Система частиц**: Визуальные эффекты при столкновениях
- **Звуковые эффекты**: Звуки прыжка, столкновения и набора очков
- **Сохранение прогресса**: Лучший результат сохраняется в localStorage

## Производительность

Игра оптимизирована для стабильной работы на 60 FPS. Для отображения метрик производительности можно включить overlay через консоль браузера:

```javascript
localStorage.setItem('duck-game-show-performance', 'true')
```

После перезагрузки страницы будет отображаться overlay с информацией о FPS, использовании памяти и других метриках.

## Браузерная совместимость

Игра протестирована и работает в следующих браузерах:
- Chrome/Edge (последние версии)
- Firefox (последние версии)
- Safari (последние версии)

Требуется поддержка Canvas API и ES6+.

## Лицензия

Этот проект создан в образовательных целях.
