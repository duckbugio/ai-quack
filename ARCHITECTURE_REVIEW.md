# –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞ "–£—Ç–∫–∞"

## –î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞: 2024

---

## üìã –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞

**–û—Ü–µ–Ω–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã: 8.5/10**

–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ö–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏. –ö–æ–¥ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏ –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç–∏. –ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±–ª–∞—Å—Ç–µ–π –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è, –Ω–æ –≤ —Ü–µ–ª–æ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏–≥—Ä –Ω–∞ React.

---

## ‚úÖ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã

### 1. **–ß–µ—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π**
```
src/
‚îú‚îÄ‚îÄ components/     # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ contexts/       # React –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã
‚îú‚îÄ‚îÄ game/          # –ò–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ entities/   # –ò–≥—Ä–æ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ systems/    # –ò–≥—Ä–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îî‚îÄ‚îÄ utils/      # –£—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ hooks/          # React —Ö—É–∫–∏
‚îî‚îÄ‚îÄ types/          # TypeScript —Ç–∏–ø—ã
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –õ–æ–≥–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- –õ–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—ã–π –∫–æ–¥
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### 2. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (Separation of Concerns)**

#### **Entities (–°—É—â–Ω–æ—Å—Ç–∏)**
- `Duck.ts` - –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –ª–æ–≥–∏–∫—É —É—Ç–∫–∏
- `Obstacle.ts` - —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è–º–∏
- –ö–∞–∂–¥–∞—è —Å—É—â–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∑–∞ —Å–µ–±—è

#### **Systems (–°–∏—Å—Ç–µ–º—ã)**
- `CollisionSystem.ts` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–ª–ª–∏–∑–∏–π
- `ObstacleManager.ts` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è–º–∏
- `ScoreSystem.ts` - –ø–æ–¥—Å—á–µ—Ç –æ—á–∫–æ–≤
- `ParticleSystem.ts` - –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã

#### **UI Components**
- –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–µ–∂–¥—É –∏–≥—Ä–æ–≤–æ–π –ª–æ–≥–∏–∫–æ–π –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–µ–Ω—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –æ—Ç –∏–≥—Ä–æ–≤–æ–π –ª–æ–≥–∏–∫–∏

### 3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

#### **Singleton Pattern**
```typescript
// SoundManager.ts
export const soundManager = new SoundManager();

// PerformanceMonitor.ts
export const performanceMonitor = new PerformanceMonitor();
```
‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

#### **Component Pattern (React)**
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å —Ö—É–∫–∞–º–∏
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `useCallback`, `useMemo`, `useRef`

#### **Manager Pattern**
- `ObstacleManager` - —É–ø—Ä–∞–≤–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏ –æ–±—ä–µ–∫—Ç–æ–≤

### 4. **TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è**

**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã –≤ `game.types.ts`
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (`GameContextType`)
- –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π

**–ü—Ä–∏–º–µ—Ä —Ö–æ—Ä–æ—à–µ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏:**
```typescript
interface GameContextType {
  gameState: GameState;
  score: number;
  highScore: number;
  soundEnabled: boolean;
  // ... –º–µ—Ç–æ–¥—ã
}
```

### 5. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**

#### **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**
```typescript
// Duck.ts
private cachedBounds: Bounds | null = null;
getBounds(): Bounds {
  if (this.cachedBounds !== null) {
    return this.cachedBounds;
  }
  // ...
}
```

#### **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏**
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤–∏–¥–∏–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –ø–µ—Ä–µ–¥ –æ—Ç—Ä–∏—Å–æ–≤–∫–æ–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `useCallback` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ª–∏—à–Ω–∏—Ö –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–æ–∫
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `useRef` –¥–ª—è –∏–≥—Ä–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤

#### **–ò–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª**
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ FPS —á–µ—Ä–µ–∑ `requestAnimationFrame`
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ `deltaTime`

### 6. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**

**–•–æ—Ä–æ—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏:**
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Å–∏—Å—Ç–µ–º–∞—Ö –∫–æ–ª–ª–∏–∑–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ localStorage
- Graceful degradation –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–π

```typescript
try {
  localStorage.setItem('duck-game-highscore', newHighScore.toString());
} catch (error) {
  if (import.meta.env.DEV) {
    console.warn('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:', error);
  }
}
```

### 7. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤:**
- –¢–µ—Å—Ç—ã –¥–ª—è —Å—É—â–Ω–æ—Å—Ç–µ–π (`Duck.test.ts`, `Obstacle.test.ts`)
- –¢–µ—Å—Ç—ã –¥–ª—è —Å–∏—Å—Ç–µ–º (`CollisionSystem.test.ts`, `ScoreSystem.test.ts`)
- –¢–µ—Å—Ç—ã –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (`GameContext.test.tsx`)

---

## ‚ö†Ô∏è –û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è

### 1. **–†–∞–∑–º–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ GameCanvas.tsx**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç **1312 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞**
- –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –≤ –æ–¥–Ω–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
- –°–ª–æ–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**

#### **–í–∞—Ä–∏–∞–Ω—Ç A: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –ø–æ–¥–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
```typescript
// GameCanvas.tsx - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
// BackgroundRenderer.tsx - –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ñ–æ–Ω–∞
// GameObjectsRenderer.tsx - –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏–≥—Ä–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
// UIRenderer.tsx - –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ UI —ç–ª–µ–º–µ–Ω—Ç–æ–≤
```

#### **–í–∞—Ä–∏–∞–Ω—Ç B: –í—ã–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤ —Ö—É–∫–∏**
```typescript
// useGameRendering.ts - –ª–æ–≥–∏–∫–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏
// useGameBackground.ts - –ª–æ–≥–∏–∫–∞ —Ñ–æ–Ω–∞
// useGameObjects.ts - –ª–æ–≥–∏–∫–∞ –∏–≥—Ä–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
```

#### **–í–∞—Ä–∏–∞–Ω—Ç C: –°–æ–∑–¥–∞–Ω–∏–µ Renderer –∫–ª–∞—Å—Å–æ–≤**
```typescript
// Renderer.ts - –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å
// BackgroundRenderer.ts - –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ñ–æ–Ω–∞
// GameObjectsRenderer.ts - –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤
// UIRenderer.ts - –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ UI
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í—ã—Å–æ–∫–∏–π**

### 2. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π `draw*` –≤ `GameCanvas.tsx`
- –õ–æ–≥–∏–∫–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ —Å–º–µ—à–∞–Ω–∞ —Å –∏–≥—Ä–æ–≤–æ–π –ª–æ–≥–∏–∫–æ–π

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å `RenderSystem.ts`:
```typescript
// game/systems/RenderSystem.ts
export class RenderSystem {
  constructor(
    private ctx: CanvasRenderingContext2D,
    private width: number,
    private height: number
  ) {}
  
  drawSky(): void { /* ... */ }
  drawClouds(offset: number): void { /* ... */ }
  drawGround(offset: number): void { /* ... */ }
  drawTrees(trees: Tree[], offset: number): void { /* ... */ }
  // ...
}
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°—Ä–µ–¥–Ω–∏–π**

### 3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (–ø—Ç–∏—Ü—ã, –¥–µ—Ä–µ–≤—å—è, —Ü–≤–µ—Ç—ã) —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `useRef` –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- –õ–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–º–µ—à–∞–Ω–∞ —Å –ª–æ–≥–∏–∫–æ–π –æ—Ç—Ä–∏—Å–æ–≤–∫–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã/—Å–∏—Å—Ç–µ–º—ã:
```typescript
// game/entities/BackgroundBird.ts
export class BackgroundBird {
  x: number;
  y: number;
  // ...
  update(deltaTime: number): void { /* ... */ }
  draw(ctx: CanvasRenderingContext2D): void { /* ... */ }
}

// game/systems/BackgroundSystem.ts
export class BackgroundSystem {
  private birds: BackgroundBird[] = [];
  private trees: Tree[] = [];
  // ...
  update(deltaTime: number): void { /* ... */ }
  draw(ctx: CanvasRenderingContext2D): void { /* ... */ }
}
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°—Ä–µ–¥–Ω–∏–π**

### 4. **–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**

**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ `constants.ts`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `GAME_CONFIG` –æ–±—ä–µ–∫—Ç–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- –î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ—Ä–µ–∑ UI

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ù–∏–∑–∫–∏–π**

### 5. **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ú–Ω–æ–∂–µ—Å—Ç–≤–æ `useEffect` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å —É—Ç–µ—á–∫–∞–º–∏ –ø–∞–º—è—Ç–∏

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```typescript
// GameCanvas.tsx - –æ–±—Ä–∞–±–æ—Ç–∫–∞ Escape
useEffect(() => {
  const handleEscape = (event: KeyboardEvent) => { /* ... */ };
  window.addEventListener('keydown', handleEscape);
  return () => window.removeEventListener('keydown', handleEscape);
}, [gameState, pauseGame, resumeGame]);

// MainMenu.tsx - –æ–±—Ä–∞–±–æ—Ç–∫–∞ Enter
useEffect(() => {
  const handleKeyPress = (event: KeyboardEvent) => { /* ... */ };
  window.addEventListener('keydown', handleKeyPress);
  return () => window.removeEventListener('keydown', handleKeyPress);
}, [startGame]);
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–°–æ–∑–¥–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π `InputManager`:
```typescript
// game/utils/InputManager.ts
export class InputManager {
  private handlers: Map<string, Set<() => void>> = new Map();
  
  on(key: string, handler: () => void): () => void { /* ... */ }
  off(key: string, handler: () => void): void { /* ... */ }
}
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ù–∏–∑–∫–∏–π**

### 6. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- ‚úÖ –ï—Å—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–∏—Å—Ç–µ–º
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Vitest

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
- –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è `GameCanvas` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–æ–∫–æ–≤)
- –£–≤–µ–ª–∏—á–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ (—Ü–µ–ª—å: >80%)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°—Ä–µ–¥–Ω–∏–π**

### 7. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**

**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- ‚úÖ –•–æ—Ä–æ—à–∏–µ JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ
- ‚úÖ README —Ñ–∞–π–ª—ã –¥–ª—è –∑–≤—É–∫–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –°–æ–∑–¥–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (–¥–∏–∞–≥—Ä–∞–º–º—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
- –î–æ–±–∞–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å API —Å–∏—Å—Ç–µ–º

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ù–∏–∑–∫–∏–π**

---

## üéØ –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ GameCanvas.tsx

**–®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –æ—Ç—Ä–∏—Å–æ–≤–∫–∏**
```typescript
// game/systems/RenderSystem.ts
export class RenderSystem {
  // –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ draw* –∏–∑ GameCanvas
}
```

**–®–∞–≥ 2: –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —Ñ–æ–Ω–∞**
```typescript
// game/systems/BackgroundSystem.ts
export class BackgroundSystem {
  private birds: BackgroundBird[] = [];
  private trees: Tree[] = [];
  private flowers: Flower[] = [];
  
  update(deltaTime: number): void { /* ... */ }
  draw(ctx: CanvasRenderingContext2D, renderSystem: RenderSystem): void { /* ... */ }
}
```

**–®–∞–≥ 3: –£–ø—Ä–æ—Å—Ç–∏—Ç—å GameCanvas.tsx**
```typescript
// GameCanvas.tsx - —Ç–æ–ª—å–∫–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è
const renderSystem = useRef(new RenderSystem(width, height));
const backgroundSystem = useRef(new BackgroundSystem(width, height));

const render = useCallback(() => {
  const ctx = canvasRef.current?.getContext('2d');
  if (!ctx) return;
  
  renderSystem.current.drawSky(ctx);
  backgroundSystem.current.draw(ctx, renderSystem.current);
  // ...
}, []);
```

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –£–ª—É—á—à–µ–Ω–∏–µ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏

**–î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–≥–∏–µ —Ç–∏–ø—ã –¥–ª—è –∏–≥—Ä–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤:**
```typescript
// types/game.types.ts
export interface Renderable {
  draw(ctx: CanvasRenderingContext2D): void;
}

export interface Updatable {
  update(deltaTime: number): void;
}

export interface GameEntity extends Renderable, Updatable {
  reset(): void;
}
```

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –°–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä–æ–≤–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞

**–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–π:**
```typescript
// game/GameManager.ts
export class GameManager {
  private duck: Duck;
  private obstacleManager: ObstacleManager;
  private collisionSystem: CollisionSystem;
  private scoreSystem: ScoreSystem;
  
  update(deltaTime: number): void { /* ... */ }
  checkGameOver(): boolean { /* ... */ }
  reset(): void { /* ... */ }
}
```

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### –°–ª–æ–∂–Ω–æ—Å—Ç—å –∫–æ–¥–∞
- **GameCanvas.tsx**: ~1312 —Å—Ç—Ä–æ–∫ - **–¢—Ä–µ–±—É–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞**
- **Duck.ts**: ~198 —Å—Ç—Ä–æ–∫ - ‚úÖ –•–æ—Ä–æ—à–æ
- **ObstacleManager.ts**: ~90 —Å—Ç—Ä–æ–∫ - ‚úÖ –•–æ—Ä–æ—à–æ
- **CollisionSystem.ts**: ~107 —Å—Ç—Ä–æ–∫ - ‚úÖ –•–æ—Ä–æ—à–æ

### –°–≤—è–∑–Ω–æ—Å—Ç—å (Coupling)
- **–ù–∏–∑–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å** –º–µ–∂–¥—É —Å–∏—Å—Ç–µ–º–∞–º–∏ ‚úÖ
- **–í—ã—Å–æ–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å** –≤–Ω—É—Ç—Ä–∏ GameCanvas ‚ö†Ô∏è

### –°—Ü–µ–ø–ª–µ–Ω–∏–µ (Cohesion)
- **–í—ã—Å–æ–∫–æ–µ —Å—Ü–µ–ø–ª–µ–Ω–∏–µ** –≤–Ω—É—Ç—Ä–∏ —Å–∏—Å—Ç–µ–º ‚úÖ
- **–ù–∏–∑–∫–æ–µ —Å—Ü–µ–ø–ª–µ–Ω–∏–µ** –≤ GameCanvas ‚ö†Ô∏è

### –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å
- ‚úÖ –°–∏—Å—Ç–µ–º—ã –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- ‚úÖ –•—É–∫–∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã
- ‚ö†Ô∏è –õ–æ–≥–∏–∫–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É

---

## üèóÔ∏è –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–ò–¥–µ–∞–ª—å–Ω–∞—è)

```
src/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ Game/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GameCanvas.tsx          # –¢–æ–ª—å–∫–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BackgroundRenderer.tsx  # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ñ–æ–Ω–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ GameObjectsRenderer.tsx  # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ UI/                          # –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îú‚îÄ‚îÄ game/
‚îÇ   ‚îú‚îÄ‚îÄ entities/                    # –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ systems/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RenderSystem.ts         # –ù–û–í–û–ï: –°–∏—Å—Ç–µ–º–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BackgroundSystem.ts     # –ù–û–í–û–ï: –°–∏—Å—Ç–µ–º–∞ —Ñ–æ–Ω–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GameManager.ts          # –ù–û–í–û–ï: –ì–ª–∞–≤–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...                      # –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ       ‚îú‚îÄ‚îÄ InputManager.ts         # –ù–û–í–û–ï: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–≤–æ–¥–æ–º
‚îÇ       ‚îî‚îÄ‚îÄ ...                      # –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
‚îî‚îÄ‚îÄ hooks/
    ‚îî‚îÄ‚îÄ ...                          # –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
```

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ö–æ—Ä–æ—à–æ:
1. ‚úÖ –ß–µ—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
2. ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–∏—Å—Ç–µ–º–∞–º–∏
3. ‚úÖ –•–æ—Ä–æ—à–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è TypeScript
4. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
5. ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –ß—Ç–æ –Ω—É–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:
1. ‚ö†Ô∏è –†–∞–∑–¥–µ–ª–∏—Ç—å `GameCanvas.tsx` –Ω–∞ –±–æ–ª–µ–µ –º–µ–ª–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã/—Å–∏—Å—Ç–µ–º—ã
2. ‚ö†Ô∏è –í—ã–¥–µ–ª–∏—Ç—å –ª–æ–≥–∏–∫—É –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É
3. ‚ö†Ô∏è –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ–Ω–æ–º
4. ‚ö†Ô∏è –£–ª—É—á—à–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:
1. **–í—ã—Å–æ–∫–∏–π**: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `GameCanvas.tsx`
2. **–°—Ä–µ–¥–Ω–∏–π**: –°–æ–∑–¥–∞–Ω–∏–µ `RenderSystem` –∏ `BackgroundSystem`
3. **–°—Ä–µ–¥–Ω–∏–π**: –£–ª—É—á—à–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è
4. **–ù–∏–∑–∫–∏–π**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π `InputManager`
5. **–ù–∏–∑–∫–∏–π**: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üéì –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è

1. **–ò–∑—É—á–∏—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏–≥—Ä–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:**
   - Entity-Component-System (ECS)
   - Game Loop Pattern
   - State Machine Pattern

2. **–†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫:**
   - –î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (–µ—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –≤—ã—Ä–∞—Å—Ç–µ—Ç)
   - –î–ª—è –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞)

3. **–ü—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Å–ª–µ–¥–æ–≤–∞—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞–º:**
   - SOLID –ø—Ä–∏–Ω—Ü–∏–ø—ã
   - DRY (Don't Repeat Yourself)
   - KISS (Keep It Simple, Stupid)

---

**–ê–≤—Ç–æ—Ä –∞–Ω–∞–ª–∏–∑–∞:** AI Assistant  
**–î–∞—Ç–∞:** 2024
