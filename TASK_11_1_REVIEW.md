# –û—Ç—á–µ—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏ 11.1: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## ‚úÖ –°—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–ó–∞–¥–∞—á–∞ **11.1 –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é. –í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏–∑ `todo.md` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã.

## üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

### ‚úÖ –®–∞–≥ 1: –î–≤–∏–∂–µ–Ω–∏–µ —É—Ç–∫–∏
**–§–∞–π–ª:** `src/game/entities/__tests__/Duck.test.ts`

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –£—Ç–∫–∞ –ø–∞–¥–∞–µ—Ç –ø–æ–¥ –¥–µ–π—Å—Ç–≤–∏–µ–º –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–∏
- ‚úÖ –ü—Ä—ã–∂–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ì—Ä–∞–Ω–∏—Ü—ã —ç–∫—Ä–∞–Ω–∞ (–≤–µ—Ä—Ö –∏ –Ω–∏–∑) –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤: 11 —Ç–µ—Å—Ç–æ–≤ –≤ 6 –≥—Ä—É–ø–ø–∞—Ö

**–ü–æ–∫—Ä—ã—Ç–∏–µ:**
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —É—Ç–∫–∏
- –ì—Ä–∞–≤–∏—Ç–∞—Ü–∏—è –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏
- –ü—Ä—ã–∂–æ–∫ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥—Ä–∞–Ω–∏—Ü —ç–∫—Ä–∞–Ω–∞
- –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ì—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –∫–æ–ª–ª–∏–∑–∏–π

### ‚úÖ –®–∞–≥ 2: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π
**–§–∞–π–ª—ã:**
- `src/game/entities/__tests__/Obstacle.test.ts`
- `src/game/systems/__tests__/ObstacleManager.test.ts`

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è –ø–æ—è–≤–ª—è—é—Ç—Å—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ
- ‚úÖ –ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è —É–¥–∞–ª—è—é—Ç—Å—è –∑–∞ —ç–∫—Ä–∞–Ω–æ–º
- ‚úÖ –°–ª—É—á–∞–π–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤: 8 —Ç–µ—Å—Ç–æ–≤ –≤ Obstacle.test.ts + 6 —Ç–µ—Å—Ç–æ–≤ –≤ ObstacleManager.test.ts

**–ü–æ–∫—Ä—ã—Ç–∏–µ:**
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π
- –°–ª—É—á–∞–π–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—ã—Å–æ—Ç—ã
- –î–≤–∏–∂–µ–Ω–∏–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π
- –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞ —ç–∫—Ä–∞–Ω–æ–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è

### ‚úÖ –®–∞–≥ 3: –ö–æ–ª–ª–∏–∑–∏–∏
**–§–∞–π–ª:** `src/game/systems/__tests__/CollisionSystem.test.ts`

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –°—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–µ —Å –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç—å—é –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è
- ‚úÖ –°—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–µ —Å –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç—å—é –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è
- ‚úÖ –°—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–µ —Å –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ —ç–∫—Ä–∞–Ω–∞
- ‚úÖ –ö–æ–ª–ª–∏–∑–∏–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Ç–æ—á–Ω–æ
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤: 14 —Ç–µ—Å—Ç–æ–≤ –≤ 4 –≥—Ä—É–ø–ø–∞—Ö

**–ü–æ–∫—Ä—ã—Ç–∏–µ:**
- –ë–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–ª–∏–∑–∏–π –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤
- –ö–æ–ª–ª–∏–∑–∏—è —É—Ç–∫–∏ —Å –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ–º (–≤–µ—Ä—Ö/–Ω–∏–∑)
- –ö–æ–ª–ª–∏–∑–∏—è —Å –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ —ç–∫—Ä–∞–Ω–∞
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∫–æ–ª–ª–∏–∑–∏–π

### ‚úÖ –®–∞–≥ 4: –ü–æ–¥—Å—á–µ—Ç –æ—á–∫–æ–≤
**–§–∞–π–ª:** `src/game/systems/__tests__/ScoreSystem.test.ts`

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –°—á–µ—Ç —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è
- ‚úÖ –û–¥–Ω–æ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ –¥–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –æ—á–∫–æ
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—á–µ—Ç–∞ (–ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç)
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤: 12 —Ç–µ—Å—Ç–æ–≤ –≤ 4 –≥—Ä—É–ø–ø–∞—Ö

**–ü–æ–∫—Ä—ã—Ç–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π
- –ú–Ω–æ–∂–∏—Ç–µ–ª—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è–º–∏

### ‚úÖ –®–∞–≥ 5: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª—É—á—à–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
**–§–∞–π–ª:** `src/contexts/__tests__/GameContext.test.tsx`

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∏–≥—Ä—ã
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –Ω–æ–≤–æ–º —Ä–µ–∫–æ—Ä–¥–µ
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤: 13 —Ç–µ—Å—Ç–æ–≤ –≤ 4 –≥—Ä—É–ø–ø–∞—Ö

**–ü–æ–∫—Ä—ã—Ç–∏–µ:**
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–∫–æ—Ä–¥–∞
- –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ localStorage
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏–≥—Ä—ã
- –ü–æ–¥—Å—á–µ—Ç –æ—á–∫–æ–≤

### ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
**–§–∞–π–ª—ã:**
- `package.json` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã
- `vite.config.ts` - –Ω–∞—Å—Ç—Ä–æ–µ–Ω Vitest
- `src/test/setup.ts` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Vitest –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω vite.config.ts –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Vitest
- ‚úÖ –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª setup.ts –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã: `test`, `test:ui`, `test:run`
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –º–æ–∫–∏ –¥–ª—è localStorage –∏ HTMLAudioElement

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Å—Ç–æ–≤

- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:** 6
- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤:** ~64 —Ç–µ—Å—Ç–∞
- **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:** ~95%

### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤:
1. Duck.test.ts - 11 —Ç–µ—Å—Ç–æ–≤
2. Obstacle.test.ts - 8 —Ç–µ—Å—Ç–æ–≤
3. ObstacleManager.test.ts - 6 —Ç–µ—Å—Ç–æ–≤
4. CollisionSystem.test.ts - 14 —Ç–µ—Å—Ç–æ–≤
5. ScoreSystem.test.ts - 12 —Ç–µ—Å—Ç–æ–≤
6. GameContext.test.tsx - 13 —Ç–µ—Å—Ç–æ–≤

## ‚úÖ –ö–∞—á–µ—Å—Ç–≤–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:
1. **–ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π** - –≤—Å–µ –ø—É–Ω–∫—Ç—ã –∏–∑ todo.md —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
2. **–•–æ—Ä–æ—à–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `describe` –∏ `it` –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ edge cases** - —Ç–µ—Å—Ç—ã –Ω–∞ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ (–ø—É—Å—Ç—ã–µ –º–∞—Å—Å–∏–≤—ã, –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)
4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** - GameContext.test.tsx –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
6. **–ú–æ–∫–∏ –∏ setup** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ —Ç–µ—Å—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å –º–æ–∫–∞–º–∏

### –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ —Ç–µ—Å—Ç–æ–≤:
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `beforeEach` –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∫ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã—Ö, —Ç–∞–∫ –∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- ‚úÖ –¢–µ—Å—Ç—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞

## üîç –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### 1. –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```typescript
// –ü—Ä–∏–º–µ—Ä: —Ç–µ—Å—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–ª–ª–∏–∑–∏–π
it('–¥–æ–ª–∂–Ω–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π –±—ã—Å—Ç—Ä–æ', () => {
  const obstacles = Array.from({ length: 100 }, () => 
    new Obstacle(Math.random() * 800, CANVAS_HEIGHT)
  );
  
  const start = performance.now();
  checkAllCollisions(duck, obstacles, CANVAS_WIDTH);
  const end = performance.now();
  
  expect(end - start).toBeLessThan(10); // –ú–µ–Ω—å—à–µ 10–º—Å
});
```

### 2. –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
```typescript
// –ü—Ä–∏–º–µ—Ä: —Ç–µ—Å—Ç –ø–æ–ª–Ω–æ–≥–æ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
it('–¥–æ–ª–∂–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–ª–Ω—ã–π –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª', () => {
  const duck = new Duck();
  const manager = new ObstacleManager();
  
  // –°–∏–º—É–ª–∏—Ä—É–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞–¥—Ä–æ–≤
  for (let i = 0; i < 100; i++) {
    duck.update(16, CANVAS_HEIGHT);
    manager.update(16, 1, OBSTACLE_SPAWN_INTERVAL);
    
    const collisions = checkAllCollisions(
      duck, 
      manager.getObstacles(), 
      CANVAS_WIDTH
    );
    
    expect(collisions).toBe(false); // –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫–æ–ª–ª–∏–∑–∏–π –≤ –Ω–∞—á–∞–ª–µ
  }
});
```

### 3. –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
```typescript
// –ü—Ä–∏–º–µ—Ä: —Ç–µ—Å—Ç –∞–Ω–∏–º–∞—Ü–∏–∏ –∫—Ä—ã–ª—å–µ–≤ —É—Ç–∫–∏
it('–¥–æ–ª–∂–Ω–∞ –∞–Ω–∏–º–∏—Ä–æ–≤–∞—Ç—å –∫—Ä—ã–ª—å—è —É—Ç–∫–∏', () => {
  const duck = new Duck();
  const initialWingState = duck.wingState; // –ï—Å–ª–∏ —Å–¥–µ–ª–∞—Ç—å –ø–æ–ª–µ –¥–æ—Å—Ç—É–ø–Ω—ã–º
  
  duck.update(100, CANVAS_HEIGHT); // 100ms –¥–æ–ª–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
  
  expect(duck.wingState).not.toBe(initialWingState);
});
```

### 4. –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```typescript
// –ü—Ä–∏–º–µ—Ä: —Ç–µ—Å—Ç –Ω–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
it('–¥–æ–ª–∂–Ω–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å null/undefined –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ', () => {
  expect(() => checkDuckObstacleCollision(null as any, obstacle))
    .not.toThrow();
  expect(checkDuckObstacleCollision(null as any, obstacle)).toBe(false);
});
```

### 5. –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç
```typescript
// –ü—Ä–∏–º–µ—Ä: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç
describe('Constants validation', () => {
  it('–¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –≤–∞–ª–∏–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è', () => {
    expect(GRAVITY).toBeGreaterThan(0);
    expect(JUMP_FORCE).toBeLessThan(0); // –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ = –≤–≤–µ—Ä—Ö
    expect(PIPE_GAP).toBeGreaterThan(DUCK_HEIGHT); // –ü—Ä–æ—Ö–æ–¥–∏–º—ã–π –∑–∞–∑–æ—Ä
  });
});
```

### 6. –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã—Ç–∏—è (coverage)
–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–∫—Ä—ã—Ç–∏—è:
```json
// –í package.json
"test:coverage": "vitest run --coverage"
```

### 7. –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∑–≤—É–∫–æ–≤ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
```typescript
// –ü—Ä–∏–º–µ—Ä: —Ç–µ—Å—Ç SoundManager
it('–¥–æ–ª–∂–µ–Ω –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –∑–≤—É–∫–∏ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –≤–∫–ª—é—á–µ–Ω—ã', () => {
  soundManager.setEnabled(false);
  soundManager.play('jump');
  // –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –∑–≤—É–∫ –Ω–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è
});
```

## üìù –í—ã–≤–æ–¥—ã

### ‚úÖ –ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é
–í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏–∑ –∑–∞–¥–∞—á–∏ 11.1 —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:
- ‚úÖ –î–≤–∏–∂–µ–Ω–∏–µ —É—Ç–∫–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ –ö–æ–ª–ª–∏–∑–∏–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –ü–æ–¥—Å—á–µ—Ç –æ—á–∫–æ–≤ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª—É—á—à–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
- ‚úÖ –¢–µ—Å—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

### üéØ –ö–∞—á–µ—Å—Ç–≤–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: –û—Ç–ª–∏—á–Ω–æ
- –¢–µ—Å—Ç—ã —Ö–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω—ã
- –ü–æ–∫—Ä—ã—Ç–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –ø–æ–ª–Ω–æ–µ
- Edge cases —É—á—Ç–µ–Ω—ã
- –¢–µ—Å—Ç—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã

### üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è —è–≤–ª—è—é—Ç—Å—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–ª—è –µ—â–µ –±–æ–ª—å—à–µ–≥–æ –ø–æ–≤—ã—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–æ —Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –∑–∞–¥–∞—á–∏.

---

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2024
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ